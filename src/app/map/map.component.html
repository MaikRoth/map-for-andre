<div class="container" style="padding: 0; margin: 0">
    <div class="row">
        <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
            <div class="btn-group me-2" role="group">
                <button *ngFor="let round of roundKeys" type="button" class="btn btn-secondary"
                    [ngClass]="{'highlighted': activeButton === round}" (click)="setActiveButton(round)">
                    {{ round }}
                </button>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3 scrollable-container">
            <app-player [participatingPlayers]="game?.participating_players"
                [playerData]="game?.round_states?.get(activeButton)?.player_name_player_map"
                [colorMap]="playerColors"></app-player>
        </div>
        <div class="col-md-9">
            <table>
                <tr *ngFor="let row of game?.round_states?.get(activeButton)?.map?.planets">
                    <td *ngFor="let planet of row">
                        <div *ngIf="planet; else voidCell">
                            <div *ngIf="planet.resources; else noResource">
                                <div class="planet-infos">
                                    <div class="image">
                                        <img [src]="getResourceImage(planet.resources[0])" class="resource-image"
                                            alt="material-image" title="{{ planet.resources[0] }}">
                                        <div class="tooltip">{{ planet.resources[1] }}</div>
                                    </div>
                                    <div class="amount">
                                        <span class="formatted-amount" [attr.title]="planet.resources[1]">{{
                                            formatAmount(planet.resources[1]) }}</span>
                                    </div>
                                </div>
                            </div>
                            <ng-template #noResource>
                                <div class="no-resource"></div>
                            </ng-template>

                            <div class="robot-container">
                                <div *ngFor="let robot of getRobotsOnPlanet(planet.planet_id)">
                                    <img src='https://robohash.org/{{robot.robot_id}}.png' alt=""
                                        [style.border-color]="getPlayerColor(robot.robot_id)" class="robot-image">
                                </div>
                            </div>
                        </div>
                        <ng-template #voidCell>
                            <div class="void"></div>
                        </ng-template>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>